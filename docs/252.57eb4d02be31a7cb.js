"use strict";(self.webpackChunkrsm=self.webpackChunkrsm||[]).push([[252],{9252:(W,h,o)=>{o.r(h),o.d(h,{CustomerFeedbackModule:()=>H});var v=o(177),l=o(9417),g=o(803),C=o(3718),y=o.n(C),c=o(5049),m=o(9640);const p=(0,m.UX)("CustomerList"),E=(0,m.Mz)(p,i=>i.customerdata);(0,m.Mz)(p,i=>i.loading),(0,m.Mz)(p,i=>i.error);var t=o(4438),I=o(6364),u=o(8580),f=o(3400),F=o(779),j=o(534),k=o(7550);const R=["showModal"],w=["deleteRecordModal"];function M(i,b){if(1&i){const e=t.RV6();t.j41(0,"ul",97)(1,"li")(2,"a",98),t.bIt("click",function(){t.eBV(e);const r=t.XpG().$index,s=t.XpG();return t.Njj(s.viewCustomer(r))}),t.nrm(3,"i",99),t.EFF(4,"View"),t.k0s()(),t.j41(5,"li")(6,"a",100),t.bIt("click",function(){t.eBV(e);const r=t.XpG().$index,s=t.XpG();return t.Njj(s.editCustomer(r))}),t.nrm(7,"i",101),t.EFF(8," Edit"),t.k0s()(),t.j41(9,"li")(10,"a",102),t.bIt("click",function(){t.eBV(e);const r=t.XpG().$implicit,s=t.XpG();return t.Njj(s.removeCustomer(r.id))}),t.nrm(11,"i",103),t.EFF(12," Delete"),t.k0s()()()}}function N(i,b){if(1&i&&(t.j41(0,"tr")(1,"td",84)(2,"a",85),t.EFF(3,"01"),t.k0s()(),t.j41(4,"td",86)(5,"div",87)(6,"div",88)(7,"div"),t.nrm(8,"img",89),t.k0s()(),t.j41(9,"div",8)(10,"h5",90)(11,"a",91),t.EFF(12),t.k0s()()()()(),t.j41(13,"td",92),t.EFF(14),t.k0s(),t.j41(15,"td")(16,"div",93)(17,"button",94),t.nrm(18,"i",95),t.k0s(),t.DNE(19,M,13,0,"ul",96),t.k0s()()()),2&i){const e=b.$implicit;t.R7$(8),t.FS9("src",e.img,t.B4B),t.R7$(4),t.JRh(e.name),t.R7$(2),t.JRh(e.email)}}function B(i,b){if(1&i){const e=t.RV6();t.j41(0,"div",36)(1,"div",6)(2,"div",104)(3,"div",105),t.nrm(4,"img",106),t.k0s(),t.j41(5,"div",8)(6,"h6",107),t.EFF(7),t.k0s(),t.j41(8,"p",28)(9,"a",108),t.EFF(10,"@mosciski"),t.k0s()()(),t.j41(11,"div",109)(12,"button",110),t.bIt("click",function(r){t.eBV(e);const s=t.XpG();return t.Njj(s.followbtn(r))}),t.j41(13,"span",111),t.nrm(14,"i",112),t.EFF(15," Follow"),t.k0s(),t.j41(16,"span",113),t.nrm(17,"i",114),t.EFF(18," Unfollow"),t.k0s()(),t.j41(19,"button",115),t.nrm(20,"i",116),t.k0s()()(),t.j41(21,"ul",117)(22,"li"),t.EFF(23,"Social Media:"),t.k0s(),t.j41(24,"li")(25,"a",118),t.nrm(26,"i",119),t.k0s()(),t.j41(27,"li")(28,"a",120),t.nrm(29,"i",121),t.k0s()(),t.j41(30,"li")(31,"a",122),t.nrm(32,"i",123),t.k0s()()(),t.j41(33,"div")(34,"table",124)(35,"tbody")(36,"tr")(37,"th"),t.EFF(38,"Email"),t.k0s(),t.j41(39,"td",125),t.EFF(40),t.k0s()()()()(),t.j41(41,"div",78)(42,"label",126),t.EFF(43,"Private Notes"),t.k0s(),t.j41(44,"div",127),t.nrm(45,"ckeditor",128),t.k0s()()()()}if(2&i){const e=t.XpG();t.R7$(4),t.FS9("src",e.customerdetail.img,t.B4B),t.R7$(3),t.JRh(e.customerdetail.name),t.R7$(33),t.JRh(e.customerdetail.email),t.R7$(5),t.Y8G("editor",e.Editor)}}const T=[{path:"",component:(()=>{class i{constructor(e,n){this.formBuilder=e,this.store=n,this.submitted=!1,this.Editor=y()}ngOnInit(){this.breadCrumbItems=[{label:"Ecommerce",active:!0},{label:"Customers",active:!0}],setTimeout(()=>{this.store.dispatch((0,c.XQ)()),this.store.select(E).subscribe(e=>{this.customers=e,this.Customerlist=e,this.customers=this.Customerlist.slice(0,10),this.customerdetail=this.customers[0]}),document.getElementById("elmLoader")?.classList.add("d-none")},1200),this.customerForm=this.formBuilder.group({id:[""],name:["",[l.k0.required]],email:["",[l.k0.required]],phone:["",[l.k0.required]],review:["",[l.k0.required]],img:[""]})}editCustomer(e){this.showModal?.show(),document.querySelector(".modal-title").innerHTML="Edit Customer",document.getElementById("add-btn").innerHTML="Update",document.querySelectorAll("#customer-img").forEach(s=>{s.src=this.customers[e].img}),this.customerForm.controls.img.setValue(this.customers[e].img),this.customerForm.patchValue(this.customers[e])}saveCustomer(){this.customerForm.valid&&(this.customerForm.get("id")?.value?this.store.dispatch((0,c.uG)({updatedData:this.customerForm.value})):(this.customerForm.controls.id.setValue(this.customers.length+1),this.store.dispatch((0,c.oz)({newData:this.customerForm.value}))),document.querySelectorAll("#customer-img").forEach(e=>{e.src=""}),setTimeout(()=>{this.customerForm.reset()},1e3),this.showModal?.hide())}fileChange(e){let r=e.target.files[0];const s=new FileReader;s.onload=()=>{this.imageURL=s.result,document.querySelectorAll("#customer-img").forEach(d=>{d.src=this.imageURL}),this.customerForm.controls.img.setValue(this.imageURL)},s.readAsDataURL(r)}removeCustomer(e){this.deleteId=e,this.deleteRecordModal?.show()}deleteCustomer(){this.store.dispatch((0,c.Wf)({id:this.deleteId})),this.deleteRecordModal?.hide()}followbtn(e){e.target.closest("button").classList.toggle("active")}filterdata(){this.customers=this.term?this.Customerlist.filter(e=>e.email.toLowerCase().includes(this.term.toLowerCase())||e.name.toLowerCase().includes(this.term.toLowerCase())):this.Customerlist.slice(0,10),this.updateNoResultDisplay()}pageChanged(e){const n=(e.page-1)*e.itemsPerPage;this.endItem=e.page*e.itemsPerPage,this.customers=this.Customerlist.slice(n,this.endItem)}updateNoResultDisplay(){const e=document.querySelector(".noresult"),n=document.getElementById("pagination-element");this.term&&0===this.customers.length?(e.style.display="block",n.classList.add("d-none")):(e.style.display="none",n.classList.remove("d-none"))}selectstatus(){const e=document.getElementById("idStatus").value;this.customers=e?this.Customerlist.filter(n=>n.status==e):this.Customerlist.slice(0,10)}viewCustomer(e){this.customerdetail=this.customers[e]}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(l.ze),t.rXU(m.il))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-index"]],viewQuery:function(n,r){if(1&n&&(t.GBs(R,5),t.GBs(w,5)),2&n){let s;t.mGM(s=t.lsd())&&(r.showModal=s.first),t.mGM(s=t.lsd())&&(r.deleteRecordModal=s.first)}},decls:117,vars:7,consts:[["showModal","bs-modal"],["deleteRecordModal","bs-modal"],["title","Customers Feedback",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"d-flex","align-items-center","flex-wrap","gap-3"],[1,"flex-grow-1"],[1,"d-flex","flex-wrap","gap-2"],["type","button",1,"btn","btn-primary","add-btn",3,"click"],[1,"bi","bi-plus-circle","align-baseline","me-1"],["type","button",1,"btn","btn-secondary"],[1,"ph-cloud-arrow-down","align-middle","me-1"],["type","button",1,"btn","btn-subtle-info"],[1,"ph-cloud-arrow-up","align-middle","me-1"],["id","customer-list",1,"row"],[1,"col-xxl-8"],[1,"table-responsive","table-card"],[1,"table","align-middle","table-nowrap"],[1,"list"],["id","elmLoader"],["role","status",1,"spinner-border","text-primary","avatar-sm"],[1,"visually-hidden"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"align-items-center","mt-4","justify-content-between","row","text-center","text-sm-start"],[1,"col-sm"],[1,"text-muted"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","hstack","gap-2",3,"pageChanged","totalItems","itemsPerPage"],[1,"col-xxl-4"],["id","overview-card",1,"card"],["bsModal","","id","showModal",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-light","p-3"],["id","exampleModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],["novalidate","","autocomplete","off",1,"tablelist-form",3,"ngSubmit","formGroup"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],["type","hidden","id","id-field"],[1,"text-center","mb-3"],[1,"position-relative","d-inline-block"],[1,"position-absolute","top-100","start-100","translate-middle"],["for","customer-image-input","placement","right","tooltip","Select customer photo",1,"mb-0"],[1,"avatar-xs","d-inline-block"],[1,"avatar-title","bg-light","border","rounded-circle","text-muted","cursor-pointer"],[1,"ri-image-fill"],["id","customer-image-input","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],[1,"avatar-lg"],[1,"avatar-title","bg-light","rounded-3"],["src","assets/images/users/user-dummy-img.jpg","alt","","id","customer-img",1,"avatar-md","h-auto","rounded-3","object-fit-cover"],[1,"mb-3"],["for","customername-field",1,"form-label"],["type","text","id","customername-field","formControlName","name","placeholder","Enter customer name","required","",1,"form-control"],["for","email-field",1,"form-label"],["type","email","id","email-field","formControlName","email","placeholder","Enter email","required","",1,"form-control"],["for","contact-field",1,"form-label"],["type","text","id","contact-field","formControlName","phone","placeholder","Enter contact no","required","",1,"form-control"],["for","review-input",1,"form-label"],["id","review-input","rows","3","formControlName","review","placeholder","Enter Review",1,"form-control"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success"],["bsModal","","id","deleteRecordModal",1,"modal","fade","zoomIn"],[1,"modal-header"],["type","button","id","deleteRecord-close",1,"btn-close",3,"click"],[1,"modal-body","p-md-5"],[1,"text-center"],[1,"text-danger"],[1,"bi","bi-trash","display-4"],[1,"mt-4"],[1,"mb-2"],[1,"text-muted","fs-lg","mx-3","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["type","button",1,"btn","w-sm","btn-light","btn-hover",3,"click"],["type","button","id","delete-record",1,"btn","w-sm","btn-danger","btn-hover",3,"click"],[1,"id","d-none"],["href","javascript:void(0);",1,"fw-medium","link-primary"],[1,"customer"],[1,"d-flex","align-items-center"],[1,"flex-shrink-0","me-2"],["alt","",1,"avatar-xs","rounded-circle","customer-image-elem",3,"src"],[1,"fs-base","mb-0"],["href","javascript:void(0);",1,"text-reset","customer-name-elem"],[1,"email"],["dropdown","",1,"dropdown"],["dropdownToggle","","type","button",1,"btn","btn-subtle-secondary","btn-sm","dropdown"],[1,"ri-more-fill","align-middle"],["class","dropdown-menu dropdown-menu-end",4,"bsDropdownMenu"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);",1,"dropdown-item","view-item-btn",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],["href","javascript:void(0);",1,"dropdown-item","edit-item-btn",3,"click"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],["href","javascript:void(0);",1,"dropdown-item","remove-item-btn",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],[1,"d-flex","gap-3","align-items-center","flex-wrap"],[1,"flex-shirnk-0"],["alt","",1,"avatar-sm","rounded","overview-img",3,"src"],[1,"fs-lg","overview-name"],["href","javascript:void(0);",1,"overview-nick-name"],[1,"flex-shrink-0"],["type","button",1,"btn","btn-subtle-primary","custom-toggle","active","me-1",3,"click"],[1,"icon-on"],[1,"ri-add-line","align-bottom","me-1"],[1,"icon-off"],[1,"ri-user-unfollow-line","align-bottom","me-1"],[1,"btn","btn-subtle-danger","btn-icon"],[1,"ph-trash"],[1,"d-flex","align-items-center","gap-2","list-unstyled","mt-4"],["href","javascript:void(0);",1,"btn","btn-subtle-success","btn-icon","btn-sm"],[1,"bi","bi-whatsapp"],["href","javascript:void(0);",1,"btn","btn-subtle-primary","btn-icon","btn-sm"],[1,"bi","bi-facebook"],["href","javascript:void(0);",1,"btn","btn-subtle-secondary","btn-icon","btn-sm"],[1,"bi","bi-github"],[1,"table","table-sm","table-borderless"],[1,"overview-email"],[1,"form-label","fs-md"],[1,"private-notes"],["data","",3,"editor"]],template:function(n,r){if(1&n){const s=t.RV6();t.nrm(0,"app-breadcrumbs",2),t.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),t.nrm(6,"div",8),t.j41(7,"div")(8,"div",9)(9,"button",10),t.bIt("click",function(){t.eBV(s);const a=t.sdS(53);return t.Njj(a.show())}),t.nrm(10,"i",11),t.EFF(11," Add Feedback"),t.k0s(),t.j41(12,"button",12),t.nrm(13,"i",13),t.EFF(14," Import"),t.k0s(),t.j41(15,"button",14),t.nrm(16,"i",15),t.EFF(17," Export"),t.k0s()()()()()()()(),t.j41(18,"div",16)(19,"div",17)(20,"div",5)(21,"div",6)(22,"div",18)(23,"table",19)(24,"tbody",20),t.Z7z(25,N,20,3,"tr",null,t.Vm6),t.k0s()()(),t.j41(27,"div",21)(28,"div",22)(29,"span",23),t.EFF(30,"Loading..."),t.k0s()()(),t.j41(31,"div",24)(32,"div",25),t.nrm(33,"i",26),t.j41(34,"h5",27),t.EFF(35,"Sorry! No Result Found"),t.k0s(),t.j41(36,"p",28),t.EFF(37,"We've searched more than 150+ customers We did not find any customers for you search."),t.k0s()()(),t.j41(38,"div",29)(39,"div",30)(40,"div",31),t.EFF(41," Showing "),t.j41(42,"span",32),t.EFF(43),t.k0s(),t.EFF(44," of "),t.j41(45,"span",32),t.EFF(46),t.k0s(),t.EFF(47," Results "),t.k0s()(),t.j41(48,"div",33)(49,"pagination",34),t.bIt("pageChanged",function(a){return t.eBV(s),t.Njj(r.pageChanged(a))}),t.k0s()()()()()(),t.j41(50,"div",35),t.DNE(51,B,46,4,"div",36),t.k0s()(),t.j41(52,"div",37,0)(54,"div",38)(55,"div",39)(56,"div",40)(57,"h5",41),t.EFF(58,"Add Feedback"),t.k0s(),t.j41(59,"button",42),t.bIt("click",function(){t.eBV(s);const a=t.sdS(53);return t.Njj(a.hide())}),t.k0s()(),t.j41(60,"form",43),t.bIt("ngSubmit",function(){return t.eBV(s),t.Njj(r.saveCustomer())}),t.j41(61,"div",44),t.nrm(62,"div",45)(63,"input",46),t.j41(64,"div",47)(65,"div",48)(66,"div",49)(67,"label",50)(68,"span",51)(69,"span",52),t.nrm(70,"i",53),t.k0s()()(),t.j41(71,"input",54),t.bIt("change",function(a){return t.eBV(s),t.Njj(r.fileChange(a))}),t.k0s()(),t.j41(72,"div",55)(73,"div",56),t.nrm(74,"img",57),t.k0s()()()(),t.j41(75,"div",58)(76,"label",59),t.EFF(77,"Customer Name"),t.k0s(),t.nrm(78,"input",60),t.k0s(),t.j41(79,"div",58)(80,"label",61),t.EFF(81,"Email"),t.k0s(),t.nrm(82,"input",62),t.k0s(),t.j41(83,"div",58)(84,"label",63),t.EFF(85,"Contact no."),t.k0s(),t.nrm(86,"input",64),t.k0s(),t.j41(87,"div",58)(88,"label",65),t.EFF(89,"Review"),t.k0s(),t.nrm(90,"textarea",66),t.k0s()(),t.j41(91,"div",67)(92,"div",68)(93,"button",69),t.bIt("click",function(){t.eBV(s);const a=t.sdS(53);return t.Njj(a.hide())}),t.EFF(94,"Close"),t.k0s(),t.j41(95,"button",70),t.EFF(96,"Add Order"),t.k0s()()()()()()(),t.j41(97,"div",71,1)(99,"div",38)(100,"div",39)(101,"div",72)(102,"button",73),t.bIt("click",function(){t.eBV(s);const a=t.sdS(98);return t.Njj(a.hide())}),t.k0s()(),t.j41(103,"div",74)(104,"div",75)(105,"div",76),t.nrm(106,"i",77),t.k0s(),t.j41(107,"div",78)(108,"h3",79),t.EFF(109,"Are you sure ?"),t.k0s(),t.j41(110,"p",80),t.EFF(111,"Are you sure you want to remove this record ?"),t.k0s()()(),t.j41(112,"div",81)(113,"button",82),t.bIt("click",function(){t.eBV(s);const a=t.sdS(98);return t.Njj(a.hide())}),t.EFF(114,"Close"),t.k0s(),t.j41(115,"button",83),t.bIt("click",function(){return t.eBV(s),t.Njj(r.deleteCustomer())}),t.EFF(116,"Yes, Delete It!"),t.k0s()()()()()()}2&n&&(t.Y8G("breadcrumbItems",r.breadCrumbItems),t.R7$(25),t.Dyx(r.customers),t.R7$(18),t.JRh(r.customers.length),t.R7$(3),t.JRh(r.Customerlist.length),t.R7$(3),t.Y8G("totalItems",null==r.Customerlist?null:r.Customerlist.length)("itemsPerPage",10),t.R7$(2),t.vxM(r.customerdetail?51:-1),t.R7$(9),t.Y8G("formGroup",r.customerForm))},dependencies:[I.m,u.hs,u.UL,u.Kk,l.qT,l.me,l.BC,l.cb,l.YS,l.j4,l.JD,f.eK,F.hZ,j.dg,k.h]})}}return i})()}];let L=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[g.iI.forChild(T),g.iI]})}}return i})();var V=o(3887),x=o(9386),G=o(9844),S=o(2716),$=o(255),D=o(929),X=o(1198),U=o(4626),A=o(5946),z=o(4580),P=o(5260),J=o(339),Y=o(7820),O=o(9884),Q=o(1022);const Z={url:"https://httpbin.org/post",maxFilesize:50,acceptedFiles:"image/*"};let H=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({providers:[v.vh,{provide:x.lk,useValue:Z}],imports:[v.MD,L,V.G,u.zE.forRoot(),l.YN,l.X1,f.x6.forRoot(),F.Q_.forRoot(),z.h6.forRoot(),X.TV,G.A,j.Ss.forRoot(),U.J,$.r,P.Zi.forRoot(),S.MQ,D.Ti,k.w,J.YN.forRoot(),Y.Hq.forRoot(),A.gI,O.wZ.forRoot(),x._L,Q.ND.forRoot()]})}}return i})()}}]);